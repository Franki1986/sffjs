(function(a){"undefined"!=typeof module&&module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):(sffjs=a(),sffjs.unsafe())}).call(this,function(){"use strict";function a(a){return a<10?"0"+a:a}function b(a){return null!=a}function c(a,b){return isNaN(a)?b:a}function d(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function e(a){for(var b in s)null==a[b]&&(a[b]=s[b]);return a.f=a.f||a.D+" "+a.t,a.F=a.F||a.D+" "+a.T,a.g=a.g||a.d+" "+a.t,a.G=a.G||a.d+" "+a.T,a.m=a.M,a.y=a.Y,a}function f(){var a;if(u){var b=u.toUpperCase();a=v[b]||v[b.split("-")[0]]}q.LC=r=a||t}function g(a,b){var c=Math.pow(10,b||0);return""+Math.round(Math.abs(a)*c)/c}function h(a){var b=a.indexOf(".");return b<0?a.length:b}function i(a){var b=a.indexOf(".");return b<0?0:a.length-b-1}function j(a,c){if(b(c)){var d=/(\.([a-zA-Z_$]\w*)|\[(\d+)\])/g,e=/^[a-zA-Z_$]\w*/.exec(a);for(c=c[e[0]];b(c)&&(e=d.exec(a));)c=c[e[2]||Number(e[3])]}return c}function k(a,b){for(var c=0,d=b.length;c<d;c++)a.push(b.charAt(c)),a.g>1&&a.g--%3===1&&a.push(a.t)}function l(a,c,e,f){var g,h,i=parseInt(a,10),k="";if(isNaN(i))g=j(a,f[1]);else{if(i>f.length-2)throw"Missing argument";g=f[i+1]}for(g=b(g)?g.__Format?g.__Format(e):"number"==typeof g?o(g,e):d(g)?p(g,e):""+g:"",c=Number(c)||0,h=Math.abs(c)-g.length;h-- >0;)k+=" ";return c<0?g+k:k+g}function m(a,b,c,d,e,f){var j,l,m=[];for(m.t=f,a<0&&m.push("-"),a=g(a,d),j=m.g=h(a),l=i(a),b-=j;b-- >0;)k(m,"0");if(k(m,a.substr(0,j)),c||l)for(m.push(e),k(m,a.substr(j+1)),c-=l;c-- >0;)k(m,"0");return m.join("")}function n(a,b,c,d){var e,f,i,j,l=0,m=-1,n=-1,o=0,p=-1,q=1,r=0,s=1,t=[],u=[t],v=[];for(i=0;i<b.length;i++)if(e=b.charAt(i),"'"===e||'"'===e){if(j=b.indexOf(e,i+1),t.push(new String(b.substring(i+1,j<0?void 0:j))),j<0)break;i=j}else if("\\"===e)t.push(new String(b.charAt(++i)));else if(";"===e){if(a>0||a<0&&u.length>1)break;u.push(t=[])}else t.push(e);for(a<0&&u.length>1?(a*=-1,b=u[1]):b=u[!a&&u.length>2?2:0],i=0;i<b.length;i++)e=b[i],"0"===e||"#"===e?(o+=r,"0"===e&&(r?p=o:m<0&&(m=l)),1===q||r||(v.t=d,q=1),l+=!r):"."===e?r=1:","===e&&!r&&l>0?q*=.001:"%"===e&&(a*=100);for(m=m<0?1:l-m,a<0&&v.push("-"),a=g(a*q,o),n=h(a),f=n-l,v.g=Math.max(n,m),i=0;i<b.length;i++)e=b[i],"#"===e||"0"===e?(f<n?(f>=0?(s&&k(v,a.substr(0,f)),k(v,a.charAt(f))):f>=n-m&&k(v,"0"),s=0):(p-- >0||f<a.length)&&k(v,f>=a.length?"0":a.charAt(f)),f++):"."===e?(a.length>++f||p>0)&&v.push(c):","!==e&&v.push(e);return v.join("")}function o(a,b){var d=r._r,e=r._t;if(a=Number(a),!isFinite(a))return""+a;if(!b&&"0"!==b)return m(a,0,0,10,d);var f=b.match(/^([a-zA-Z])(\d*)$/);if(f){var g=f[1].toUpperCase(),h=parseInt(f[2],10);switch(h=h>15?15:h,g){case"D":return m(a,c(h,1),0,0);case"F":e="";case"N":return m(a,1,c(h,2),c(h,2),d,e);case"G":case"E":for(var i=0,j=Math.abs(a);j>=10;)j/=10,i++;for(;j<1;)j*=10,i--;var k,l,o=f[1],p=3;if("G"===g){if(i>-5&&(!h||i<h))return k=h?h-(i>0?i+1:1):0,l=h?h-(i>0?i+1:1):10,m(a,1,k,l,d);o="G"===o?"E":"e",p=2,k=(h||1)-1,l=(h||11)-1}else k=l=c(h,6);return i>=0&&(o+="+"),a<0&&(j*=-1),m(""+j,1,k,l,d,e)+o+m(i,p,0);case"P":return m(100*a,1,c(h,2),c(h,2),d,e)+" %";case"X":var q=Math.round(a).toString(16);for("X"===f[1]&&(q=q.toUpperCase()),h-=q.length;h-- >0;)q="0"+q;return q;case"C":b=r._c,d=r._cr,e=r._ct;break;case"R":return""+a}}return n(a,b,d,e)}function p(b,c){var d=b.getFullYear(),e=b.getMonth(),f=b.getDate(),g=b.getDay(),h=b.getHours(),i=b.getMinutes(),j=b.getSeconds();c=c||"G",1===c.length&&(c=r[c]||c);var k=r._Mg&&/(^|[^d])d(?!dd)/.test(c)?r._Mg:r._M;return c.replace(/(\\.|'[^']*'|"[^"]*"|d{1,4}|M{1,4}|yyyy|yy|HH?|hh?|mm?|ss?|tt?)/g,function(b){return"dddd"===b?r._D[g]:"ddd"===b?r._d?r._d[g]:r._D[g].substr(0,3):"dd"===b?a(f):"d"===b?f:"MMMM"===b?k[e]:"MMM"===b?r._m?r._m[e]:r._M[e].substr(0,3):"MM"===b?a(e+1):"M"===b?e+1:"yyyy"===b?d:"yy"===b?(""+d).substr(2):"HH"===b?a(h):"H"===b?h:"hh"===b?a((h-1)%12+1):"h"===b?(h-1)%12+1:"mm"===b?a(i):"m"===b?i:"ss"===b?a(j):"s"===b?j:"tt"===b?h<12?r._am:r._pm:"t"===b?(h<12?r._am:r._pm).charAt(0):b.substr(1,b.length-1-("\\"!==b.charAt(0)))})}function q(a,b,c,d){var e=arguments;return a.replace(/\{((\d+|[a-zA-Z_$]\w*(?:\.[a-zA-Z_$]\w*|\[\d+\])*)(?:\,(-?\d*))?(?:\:([^\}]*(?:(?:\}\})+[^\}]+)*))?)\}|(\{\{)|(\}\})/g,function(){var a=arguments;return a[5]?"{":a[6]?"}":l(a[2],a[3],a[4]&&a[4].replace(/\}\}/g,"}").replace(/\{\{/g,"{"),e)})}var r,s={name:"",d:"MM/dd/yyyy",D:"dddd, dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",M:"MMMM dd",Y:"yyyy MMMM",s:"yyyy-MM-ddTHH:mm:ss",_M:["January","February","March","April","May","June","July","August","September","October","November","December"],_D:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_r:".",_t:",",_c:"Â¤#,0.00",_ct:",",_cr:".",_am:"AM",_pm:"PM"},t=e({}),u="undefined"!=typeof navigator&&(navigator.systemLanguage||navigator.language)||"",v={};return q.unsafe=function(){Number.prototype.__Format=function(a){return o(this,a)},Date.prototype.__Format=function(a){return p(this,a)},String.__Format=q;for(var a=[Date.prototype,Number.prototype,String],b=0;b<a.length;b++)a[b].format=a[b].format||a[b].__Format},q.version="1.11.1",q.setCulture=function(a){u=a,f()},q.registerCulture=function(a){v[a.name.toUpperCase()]=e(a),f()},f(),q});