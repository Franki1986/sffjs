!function(t,r){"undefined"!=typeof module&&module.exports?module.exports=r():"function"==typeof define&&define.amd?define(r):(t.sffjs=r(),t.sffjs.unsafe())}(this,function(){"use strict";function t(t){return t<10?"0"+t:t}function r(t){return null!=t}function e(t,r){return isNaN(t)?r:t}function n(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function u(t){null==t._cr&&(t._cr=t._r),null==t._ct&&(t._ct=t._t);for(var r in b)null==t[r]&&(t[r]=b[r]);return t.f=t.f||t.D+" "+t.t,t.F=t.F||t.D+" "+t.T,t.g=t.g||t.d+" "+t.t,t.G=t.G||t.d+" "+t.T,t.m=t.M,t.y=t.Y,t}function a(t){return t?t.toLowerCase().replace(/_/g,"-"):""}function o(t){for(var r=[t],e=t.split("-");--e.length;)r.push(e.join("-"));return r}function s(){var t;if(D)for(var r=o(D),e=0;!t&&e<r.length;e++){var n=r[e];v&&v(n),t=F[n]}M.LC=p=t||A}function i(t,r){var e=Math.pow(10,r||0);return""+Math.round(Math.abs(t)*e)/e}function f(t){var r=t.indexOf(".");return r<0?t.length:r}function c(t){var r=t.indexOf(".");return r<0?0:t.length-r-1}function d(t,e){if(r(e)){var n=/(\.([a-zA-Z_$]\w*)|\[(\d+)\])/g,u=/^[a-zA-Z_$]\w*/.exec(t);for(e=e[u[0]];r(e)&&(u=n.exec(t));)e=e[u[2]||Number(u[3])]}return e}function h(t,r){for(var e=0,n=r.length;e<n;e++)t.push(r.charAt(e)),t.g>1&&t.g--%3==1&&t.push(t.t)}function g(t,e,u,a){var o,s,i=parseInt(t,10),f="";if(isNaN(i))o=d(t,a[1]);else{if(i>a.length-2)throw new Error("Missing argument");o=a[i+1]}for(o=r(o)?o.__Format?o.__Format(u):"number"==typeof o?_(o,u):n(o)?m(o,u):""+o:"",e=Number(e)||0,s=Math.abs(e)-o.length;s-- >0;)f+=" ";return e<0?o+f:f+o}function l(t,r,e,n,u,a){var o,s,d=[];for(d.t=a,t<0&&d.push("-"),t=i(t,n),o=d.g=f(t),s=c(t),r-=o;r-- >0;)h(d,"0");if(h(d,t.substr(0,o)),e||s)for(d.push(u),h(d,t.substr(o+1)),e-=s;e-- >0;)h(d,"0");return d.join("")}function y(t,r,e,n){var u,a,o,s,c=0,d=-1,g=-1,l=0,y=-1,_=1,m=0,M=1,p=[],v=[p],b=[];for(o=0;o<r.length;o++)if("'"===(u=r.charAt(o))||'"'===u){if(s=r.indexOf(u,o+1),p.push(new String(r.substring(o+1,s<0?void 0:s))),s<0)break;o=s}else if("\\"===u)p.push(new String(r.charAt(++o)));else if(";"===u){if(t>0||t<0&&v.length>1)break;v.push(p=[])}else p.push(u);for(t<0&&v.length>1?(t*=-1,r=v[1]):r=v[!t&&v.length>2?2:0],o=0;o<r.length;o++)"0"===(u=r[o])||"#"===u?(l+=m,"0"===u&&(m?y=l:d<0&&(d=c)),1===_||m||(b.t=n,_=1),c+=!m):"."===u?m=1:","===u&&!m&&c>0?_*=.001:"%"===u&&(t*=100);for(d=d<0?1:c-d,t<0&&b.push("-"),a=(g=f(t=i(t*_,l)))-c,b.g=Math.max(g,d),o=0;o<r.length;o++)"#"===(u=r[o])||"0"===u?(a<g?(a>=0?(M&&h(b,t.substr(0,a)),h(b,t.charAt(a))):a>=g-d&&h(b,"0"),M=0):(y-- >0||a<t.length)&&h(b,a>=t.length?"0":t.charAt(a)),a++):"."===u?(t.length>++a||y>0)&&b.push(e):","!==u&&b.push(u);return b.join("")}function _(t,r){var n=p._r,u=p._t;if(t=Number(t),!isFinite(t))return""+t;if(!r&&"0"!==r)return l(t,0,0,10,n);var a=r.match(/^([a-zA-Z])(\d*)$/);if(a){var o=a[1].toUpperCase(),s=parseInt(a[2],10);switch(s=s>15?15:s,o){case"D":return l(t,e(s,1),0,0);case"F":u="";case"N":return l(t,1,e(s,2),e(s,2),n,u);case"G":case"E":for(var i=0,f=Math.abs(t);f>=10;)f/=10,i++;for(;f>0&&f<1;)f*=10,i--;var c,d,h=a[1],g=3;if("G"===o){if(i>-5&&(!s||i<s))return c=s?s-(i>0?i+1:1):0,d=s?s-(i>0?i+1:1):10,l(t,1,c,d,n);h="G"===h?"E":"e",g=2,c=(s||1)-1,d=(s||11)-1}else c=d=e(s,6);return i>=0&&(h+="+"),t<0&&(f*=-1),l(""+f,1,c,d,n,u)+h+l(i,g,0);case"P":return l(100*t,1,e(s,2),e(s,2),n,u)+" %";case"X":var _=Math.round(t).toString(16);for("X"===a[1]&&(_=_.toUpperCase()),s-=_.length;s-- >0;)_="0"+_;return _;case"C":r=p._c,n=p._cr,u=p._ct;break;case"R":return""+t}}return y(t,r,n,u)}function m(r,e){var n=r.getFullYear(),u=r.getMonth(),a=r.getDate(),o=r.getDay(),s=r.getHours(),i=r.getMinutes(),f=r.getSeconds();1===(e=e||"G").length&&(e=p[e]||e);var c=p._Mg&&/(^|[^d])d(?!dd)/.test(e)?p._Mg:p._M;return e.replace(/(\\.|'[^']*'|"[^"]*"|d{1,4}|M{1,4}|yyyy|yy|HH?|hh?|mm?|ss?|tt?)/g,function(r){return"dddd"===r?p._D[o]:"ddd"===r?p._d?p._d[o]:p._D[o].substr(0,3):"dd"===r?t(a):"d"===r?a:"MMMM"===r?c[u]:"MMM"===r?p._m?p._m[u]:p._M[u].substr(0,3):"MM"===r?t(u+1):"M"===r?u+1:"yyyy"===r?n:"yy"===r?(""+n).substr(2):"HH"===r?t(s):"H"===r?s:"hh"===r?t(s%12||12):"h"===r?s%12||12:"mm"===r?t(i):"m"===r?i:"ss"===r?t(f):"s"===r?f:"tt"===r?s<12?p._am:p._pm:"t"===r?(s<12?p._am:p._pm).charAt(0):r.substr(1,r.length-1-("\\"!==r.charAt(0)))})}function M(t,r,e,n){var u=arguments;return t.replace(/\{((\d+|[a-zA-Z_$]\w*(?:\.[a-zA-Z_$]\w*|\[\d+\])*)(?:\,(-?\d*))?(?:\:([^\}]*(?:(?:\}\})+[^\}]+)*))?)\}|(\{\{)|(\}\})/g,function(){var t=arguments;return t[5]?"{":t[6]?"}":g(t[2],t[3],t[4]&&t[4].replace(/\}\}/g,"}").replace(/\{\{/g,"{"),u)})}var p,v,b={name:"",d:"MM/dd/yyyy",D:"dddd, dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",M:"MMMM dd",Y:"yyyy MMMM",s:"yyyy-MM-ddTHH:mm:ss",_M:["January","February","March","April","May","June","July","August","September","October","November","December"],_D:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_r:".",_t:",",_c:"Â¤#,0.00",_ct:",",_cr:".",_am:"AM",_pm:"PM"},A=u({}),D="undefined"!=typeof navigator&&a(navigator.systemLanguage||navigator.language)||"",F={};return"undefined"!=typeof module&&module.exports&&(v=function(t){if(!(t in F)){F[t]=!1;try{require("./cultures/stringformat."+t)}catch(t){}}}),M.unsafe=function(){Number.prototype.__Format=function(t){return _(this,t)},Date.prototype.__Format=function(t){return m(this,t)},String.__Format=M;for(var t=[Date.prototype,Number.prototype,String],r=0;r<t.length;r++)t[r].format=t[r].format||t[r].__Format},M.version="1.13.0",M.setCulture=function(t){D=a(t),s()},M.registerCulture=function(t){F[a(t.name)]=u(t),s()},s(),M});